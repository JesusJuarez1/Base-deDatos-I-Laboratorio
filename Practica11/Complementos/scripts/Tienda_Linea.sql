CREATE TABLE PRODUCTO(
  ID_PRODUCTO NUMBER(8) CONSTRAINT PRODUCTO_PK PRIMARY KEY,
  NOMBRE VARCHAR(50) CONSTRAINT NOM_PRO_NN NOT NULL,
  PRECIO NUMBER(6,2) CONSTRAINT PRE_PRO_NN NOT NULL
);

INSERT INTO PRODUCTO VALUES(1,'LIBRO 1',50.50);
INSERT INTO PRODUCTO VALUES(2,'LIBRO 2',50.50);
INSERT INTO PRODUCTO VALUES(3,'CASETE 1',50.50);
INSERT INTO PRODUCTO VALUES(4,'CASETE 2',50.50);
INSERT INTO PRODUCTO VALUES(5,'DISCO 1',50.50);
INSERT INTO PRODUCTO VALUES(6,'DISCO 2',50.50);

SELECT * FROM PRODUCTO;

CREATE TABLE LIBRO(
  ISBN NUMBER(13),
  ID_PRODUCTO NUMBER(8),
  AÑO DATE,
  CONSTRAINT LIBRO_PK PRIMARY KEY (ID_PRODUCTO,ISBN),
  CONSTRAINT PRO_LIB_FK FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID_PRODUCTO)
);

INSERT INTO LIBRO VALUES(1,1,'15/05/20');
INSERT INTO LIBRO VALUES(2,2,'15/05/20');

SELECT * FROM LIBRO;

CREATE TABLE AUTOR(
  NOMBRE VARCHAR(100),
  DIRECCION VARCHAR(100),
  URL VARCHAR(50),
  CONSTRAINT AUTOR_PK PRIMARY KEY(NOMBRE,DIRECCION)
);

INSERT INTO AUTOR VALUES('CENTRO 123','RODOLFO MARTINEZ','URL RODOLFO');
INSERT INTO AUTOR VALUES('CENTRO 321','JUAN FERNANDEZ','URL JUAN');

CREATE TABLE EDITOR(
  NOMBRE VARCHAR(100) CONSTRAINT EDITOR_PK PRIMARY KEY,
  DIRECCION VARCHAR(150) CONSTRAINT DIR_EDI_NN NOT NULL,
  TELEFONO NUMBER(10),
  URL VARCHAR(50)
);

INSERT INTO EDITOR VALUES('FERNANDA OLIVEROS','ALAMEDA 230',1747625643,'URL FERNANDA');
INSERT INTO EDITOR VALUES('JUAN BARRIOS','ALAMEDA 101',1747895643,'URL JUAN');

CREATE TABLE CASETE(
  ID_CASETE NUMBER(8),
  ID_PRODUCTO NUMBER(8),
  CONSTRAINT CASETE_PK PRIMARY KEY(ID_CASETE,ID_PRODUCTO),
  CONSTRAINT PRO_CAS_FK FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID_PRODUCTO)
);

INSERT INTO CASETE VALUES(1,3);
INSERT INTO CASETE VALUES(2,4);

CREATE TABLE DISCO(
  ID_PRODUCTO NUMBER(8),
  ID_DISCO NUMBER(8),
  CONSTRAINT DISCO_PK PRIMARY KEY(ID_PRODUCTO,ID_DISCO),
  CONSTRAINT PRO_DIS_FK FOREIGN KEY(ID_PRODUCTO) REFERENCES PRODUCTO(ID_PRODUCTO)
);

INSERT INTO DISCO VALUES(5,1);
INSERT INTO DISCO VALUES(6,1);

CREATE TABLE ALMACEN(
  ID_ALMACEN NUMBER(5) CONSTRAINT ALMACEN_PK PRIMARY KEY,
  DIRECCION VARCHAR(100) CONSTRAINT DIR_ALM_NN NOT NULL,
  TELEFONO NUMBER(10) CONSTRAINT TEL_ALM_NN NOT NULL
);

INSERT INTO ALMACEN VALUES(1,'ALAMEDA 12',1749284657);
INSERT INTO ALMACEN VALUES(2,'ALAMEDA 15',1749284547);

CREATE TABLE ALMACENA(
  ID_PRODUCTO NUMBER(8),
  ID_ALMACEN NUMBER(5),
  CONSTRAINT ALMACENA_PK PRIMARY KEY (ID_PRODUCTO,ID_ALMACEN),
  CONSTRAINT PRO_ALM_FK FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID_PRODUCTO),
  CONSTRAINT ALM_ALM_FK FOREIGN KEY (ID_ALMACEN) REFERENCES ALMACEN(ID_ALMACEN)
);

INSERT INTO ALMACENA VALUES(3,1);
INSERT INTO ALMACENA VALUES(6,2);

INSERT INTO ALMACENA VALUES(5,1);
SELECT * FROM ALMACENA;

CREATE TABLE CESTA_COMPRA(
  ID_CESTA NUMBER(5) CONSTRAINT CESTA_COMPRA_PK PRIMARY KEY
);

INSERT INTO CESTA_COMPRA VALUES(1);
INSERT INTO CESTA_COMPRA VALUES(2);

CREATE TABLE CLIENTE(
  CORREO VARCHAR(100) CONSTRAINT CLIENTE_PK PRIMARY KEY,
  NOMBRE VARCHAR(50) CONSTRAINT NOM_CLI_NN NOT NULL,
  DIRECCION VARCHAR(150),
  TELEFONO NUMBER(10) CONSTRAINT TEL_CLI_NN NOT NULL
);

INSERT INTO CLIENTE VALUES('JUAN@GMAI.COM','JUAN','CENTRO 145',1638492648);
INSERT INTO CLIENTE VALUES('PEDRO@GMAI.COM','PEDRO','CENTRO 145',1638492649);

CREATE TABLE CESTA_DE(
  ID_CESTA NUMBER(5),
  CORREO VARCHAR(100),
  FECHA DATE,
  CONSTRAINT CESTA_DE_PK PRIMARY KEY(ID_CESTA,CORREO,FECHA),
  CONSTRAINT CES_CES_FK FOREIGN KEY(ID_CESTA) REFERENCES CESTA_COMPRA(ID_CESTA),
  CONSTRAINT CLI_CES_FK FOREIGN KEY (CORREO) REFERENCES CLIENTE(CORREO)
);

INSERT INTO CESTA_DE VALUES(1,'JUAN@GMAI.COM','25/04/21');
INSERT INTO CESTA_DE VALUES(2,'PEDRO@GMAI.COM','29/04/21');

COMMIT;





