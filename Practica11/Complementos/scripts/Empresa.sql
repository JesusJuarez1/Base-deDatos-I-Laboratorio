CREATE TABLE JOBS(
  JOB_ID VARCHAR2(10) CONSTRAINT JOBS_PK PRIMARY KEY,
  JOB_TITLE VARCHAR2(35) CONSTRAINT TIT_JOB_NN NOT NULL,
  MIN_SALARY NUMBER(6),
  MAX_SALARY NUMBER(6)
);

INSERT INTO JOBS VALUES('JOB','JOB 1',5000,10000);
INSERT INTO JOBS VALUES('JOB2','JOB 2',3000,7000);

CREATE TABLE REGIONS(
  REGION_ID NUMBER CONSTRAINT REGIONS_PK PRIMARY KEY,
  REGION_NAME VARCHAR2(25)
);

INSERT INTO REGIONS VALUES(2,'REGION 1');
INSERT INTO REGIONS VALUES(3,'REGION 2');

CREATE TABLE COUNTRIES(
  COUNTRY_ID CHAR(2) CONSTRAINT COUNTRIES_PK PRIMARY KEY,
  COUTRY_NAME VARCHAR2(40),
  REGION_ID NUMBER,
  CONSTRAINT REG_COUN_FK FOREIGN KEY (REGION_ID) REFERENCES REGIONS(REGION_ID)
);

INSERT INTO COUNTRIES VALUES('A1','COUN NAME 1',2);
INSERT INTO COUNTRIES VALUES('A2','COUN NAME 2',3);

CREATE TABLE LOCATIONS(
  LOCATION_ID NUMBER(4) CONSTRAINT LOCATION_PK PRIMARY KEY,
  STREET_ADRESS VARCHAR2(40),
  POSTAL_CODE VARCHAR2(12),
  CITY VARCHAR2(30) CONSTRAINT CIT_LOC_NN NOT NULL,
  STATE_PROVINCE VARCHAR2(25),
  COUNTRY_ID CHAR(2),
  CONSTRAINT COUN_LOC_FK FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRIES(COUNTRY_ID)
);

INSERT INTO LOCATIONS VALUES(1,'ADRESS1','3456','CITY 1','PROVINCE 1','A1');
INSERT INTO LOCATIONS VALUES(2,'ADRESS2','3457','CITY 2','PROVINCE 2','A2');

CREATE TABLE DEPARTMENTS(
  DEPARTMENT_ID NUMBER(4) CONSTRAINT DEPARTAMENTS_PK PRIMARY KEY,
  DEPARTMENT_NAME VARCHAR2(30) CONSTRAINT DEP_NA_DEP_NN NOT NULL,
  MANAGER_ID NUMBER(6),
  LOCATION_ID NUMBER(4)
  --CONSTRAINT EMP_DEP_FK FOREIGN KEY (MANAGER_ID) REFERENCES EMPLOYEES(EMPLOYEE_ID),
  --CONSTRAINT LOC_DEP_FK FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS(LOCATION_ID)
);

INSERT INTO DEPARTMENTS VALUES(1,'DEP 1',1,1);
INSERT INTO DEPARTMENTS VALUES(2,'DEP 2',2,2);

CREATE TABLE EMPLOYEES(
  EMPLOYEE_ID NUMBER(6) CONSTRAINT EMPLOYEES_PK PRIMARY KEY,
  FRIST_NAME VARCHAR2(20),
  LAST_NAME VARCHAR2(25) CONSTRAINT LAS_NA_EMP_NN NOT NULL,
  EMAIL VARCHAR2(25) CONSTRAINT EMA_EMP_NN NOT NULL,
  PHONE_NUMBER VARCHAR2(20),
  HIRE_DATE DATE CONSTRAINT HI_DA_EMP_NN NOT NULL,
  JOB_ID VARCHAR2(20),
  SALARY NUMBER(6,2),
  COMMISSION_PCT NUMBER(2,2),
  MANAGER_ID NUMBER(6), 
  DEPARTMENT_ID NUMBER(4),
  --CONSTRAINT JOB_EMP_FK FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID),
  CONSTRAINT DEP_EMP_FK FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID)
);

INSERT INTO EMPLOYEES VALUES(1,NULL,'LN 1','EM 1',NULL,'15/01/21',NULL,NULL,NULL,NULL,NULL);
INSERT INTO EMPLOYEES VALUES(2,NULL,'LN 2','EM 2',NULL,'15/01/21',NULL,NULL,NULL,1,NULL);
--CONSTRAINT EMP_EMP_FK FOREIGN KEY (MANAGER_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID),
--

CREATE TABLE JOB_HISTORY(
  EMPLOYEE_ID NUMBER(6),
  START_DATE DATE,
  END_DATE DATE CONSTRAINT END_DATE_JOB_HIS_NN NOT NULL,
  JOB_ID VARCHAR2(10),
  DEPARTMENT_ID NUMBER(4),
  CONSTRAINT JOB_HISTORY_PK PRIMARY KEY (EMPLOYEE_ID,START_DATE),
  CONSTRAINT EMP_JOB_HIS_FK FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEES(EMPLOYEE_ID),
  CONSTRAINT JOB_JOB_HIS_FK FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID),
  CONSTRAINT DEP_JOB_HIS_FK FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID)
);

INSERT INTO JOB_HISTORY VALUES(1,'03/12/12','02/02/20','JOB',1);
INSERT INTO JOB_HISTORY VALUES(2,'03/12/13','20/02/20','JOB2',2);




